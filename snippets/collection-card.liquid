{% liquid
  assign collection_image = collection.featured_image | default: collection.products.first.featured_image
  assign collection_title = collection.title | escape
%}

<a href="{{ collection.url }}" class="group block overflow-hidden rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300">
  <div class="relative aspect-[4/3] overflow-hidden">
    {% if collection_image != blank %}
      <img
        src="{{ collection_image | image_url: '600x' }}"
        alt="{{ collection_title }}"
        class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
        loading="lazy"
        width="600"
        height="{{ 600 | divided_by: collection_image.aspect_ratio | round }}"
      >
    {% else %}
      <div class="w-full h-full bg-gray-100 flex items-center justify-center">
        <span class="text-gray-400">Collection image</span>
      </div>
    {% endif %}
    <div class="absolute inset-0 bg-black/10 group-hover:bg-black/20 transition-colors duration-300"></div>
  </div>
  <div class="p-4 bg-white dark:bg-gray-800">
    <h3 class="font-medium text-lg text-gray-900 dark:text-white">{{ collection_title }}</h3>
    <p class="text-gray-600 dark:text-gray-300 mt-1">{{ collection.all_products_count }} products</p>
  </div>
</a>