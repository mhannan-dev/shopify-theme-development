<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ page_title }}</title>
    {{ content_for_header }}

    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4" defer></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <style>
      [x-cloak] {
        display: none !important;
      }
    </style>
  </head>
  <body class="bg-gray-50 text-gray-800 font-sans">
    {% section 'announcement-bar' %}
    {% section 'header' %}
    <main>{{ content_for_layout }}</main>
    {% section 'footer' %}

    <!-- Fixed Go to Top Button -->
    <div
      x-data="{ showGoToTop: false }"
      x-init="window.addEventListener('scroll', () => { showGoToTop = (window.scrollY > 300) })"
    >
      <button
        @click="window.scrollTo({top: 0, behavior: 'smooth'})"
        x-show="showGoToTop"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0 translate-y-4"
        x-transition:enter-end="opacity-100 translate-y-0"
        x-transition:leave="transition ease-in duration-200"
        x-transition:leave-start="opacity-100 translate-y-0"
        x-transition:leave-end="opacity-0 translate-y-4"
        class="fixed bottom-8 right-8 bg-primary text-white rounded-full w-12 h-12 flex items-center justify-center text-xl shadow-lg hover:bg-blue-800 transition-colors z-50"
        aria-label="Go to top"
      >
        <i class="fas fa-arrow-up"></i>
      </button>
    </div>
  </body>
</html>
