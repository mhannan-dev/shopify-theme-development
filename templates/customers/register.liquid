{% layout 'theme' %}

<section class="max-w-md mx-auto bg-white rounded-lg shadow-md overflow-hidden my-8 md:my-10">
  <!-- Header -->
  <div class="bg-primary py-4 px-6">
    <h1 class="text-xl font-bold text-blue-500">Create Your Account</h1>
    <p class="text-sm opacity-90 text-dark-600">Join our community today</p>
  </div>

  <!-- Registration Form -->
  <div class="p-6">
    {% form 'create_customer' %}
      {% if form.errors %}
        <div class="bg-red-50 border-l-4 border-red-500 p-4 mb-4">
          <div class="flex">
            <div class="flex-shrink-0">
              <svg class="h-5 w-5 text-red-500" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
              </svg>
            </div>
            <div class="ml-3">
              <h3 class="text-sm font-medium text-red-800">{{ form.errors | default_errors }}</h3>
            </div>
          </div>
        </div>
      {% endif %}

      <!-- First Name -->
      <div class="mb-4">
        <label for="FirstName" class="block text-sm font-medium text-gray-700 mb-1">First Name</label>
        <input
          type="text"
          name="customer[first_name]"
          id="FirstName"
          autocomplete="given-name"
          class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"
          {% if form.first_name %}value="{{ form.first_name }}"{% endif %}
        >
      </div>

      <!-- Last Name -->
      <div class="mb-4">
        <label for="LastName" class="block text-sm font-medium text-gray-700 mb-1">Last Name</label>
        <input
          type="text"
          name="customer[last_name]"
          id="LastName"
          autocomplete="family-name"
          class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"
          {% if form.last_name %}value="{{ form.last_name }}"{% endif %}
        >
      </div>

      <!-- Email -->
      <div class="mb-4">
        <label for="Email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
        <input
          type="email"
          name="customer[email]"
          id="Email"
          class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"
          spellcheck="false"
          autocapitalize="off"
          autocomplete="email"
          {% if form.email %}value="{{ form.email }}"{% endif %}
        >
      </div>

      <!-- Password -->
      <div class="mb-6">
        <label for="CreatePassword" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
        <input
          type="password"
          name="customer[password]"
          id="CreatePassword"
          class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"
          autocomplete="new-password"
        >
        <p class="text-xs text-gray-500 mt-1">Minimum 6 characters</p>
      </div>

      <!-- Submit Button -->
      <div class="mb-4">
        <button type="submit" class="w-full bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-800 transition-colors font-medium">
          Create Account
        </button>
      </div>
    {% endform %}

    <!-- Divider -->
    <div class="flex items-center mb-6">
      <div class="flex-1 border-t border-gray-300"></div>
      <span class="px-3 text-gray-500 text-sm">OR</span>
      <div class="flex-1 border-t border-gray-300"></div>
    </div>

    <!-- Social Login Buttons -->
    <div class="space-y-3">
      {% if shop.checkout.guest_login %}
        {% form 'guest_login' %}
          <button type="submit" class="w-full bg-gray-100 hover:bg-gray-200 text-gray-800 py-2 px-4 rounded-lg transition-colors">
            Continue as Guest
          </button>
        {% endform %}
      {% endif %}
    </div>

    <!-- Login Link -->
    <div class="mt-6 text-center">
      <p class="text-sm text-gray-600">
        Already have an account? 
        <a href="{{ routes.account_login_url }}" class="text-primary font-medium hover:underline">Sign in</a>
      </p>
    </div>
  </div>
</section>